\chapter{Ugeopgave 1}
\label{sec:ugeopgave-1}

Formålet med denne opgave var at blive introduceret til at lave,
redigere, linke og køre C- og C++-programmer, der er bruger OpenGL,
GLU og GLUT.

\section{Del 1}
\label{sec:del-1}

Programmet, når det køres, viser vinduet i figur \ref{fig:1-1}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part1/screenshots/part1_1.png}
\caption{Første kørsel}
\label{fig:1-1}
\end{figure}

Når der tilføjes de udkommenterede linjer, bliver koordinatsystemet
sat, så man kan se den gule polygon i sin fulde udstrækning på
skærmen. Det kan ses på figur \ref{fig:1-2}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part1/screenshots/part1_2.png}
\caption{Tilføjelse af udkommenterede linjer}
\label{fig:1-2}
\end{figure}

\section{Del 2}
\label{sec:del-2}

Programmet, når det køres, viser vinduet i figur \ref{fig:2-1}.
%
Dernæst blev der tilføjet en rød trekant, med knuderne $(2,2)$,
$(5,2)$ og $3.5,5)$. Dette kan ses på figur \ref{fig:2-2}.
%
Trekanten er herefter translateret med vektoren $(6,7)$. Det ses på
figur \ref{fig:2-3}.
%
Efterfølgende er de enkelte hjørner i trekanten blevet farve
henholdsvis rød, grøn og blå. Det ses på figur \ref{fig:2-4}.
%
Rektanglet er herefter blevet roteret 45 grader mod uret om sin egen
midte. Dette er gjort ved at translatere rektanglet, så dets midte var
i $(0,0)$ og derefter rotere om en akse. Resultatet ses på figur \ref{fig:2-5}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_1.png}
\caption{Første kørsel}
\label{fig:2-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_2.png}
\caption{Tilføjelse af en trekant}
\label{fig:2-2}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_3.png}
\caption{Translatering af trekant}
\label{fig:2-3}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_4.png}
\caption{Omfarvning af trekant}
\label{fig:2-4}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_5.png}
\caption{Rotering af rektangel}
\label{fig:2-5}
\end{figure}

\section{Del 3}
\label{sec:del-3}

Kørslen af dette program resulterede i figur \ref{fig:3-1}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part3/screenshots/part3_1.png}
\caption{3D wireframe tepotte}
\label{fig:3-1}
\end{figure}

\section{Del 4}
\label{sec:del-4}

Vores genererede forside kan ses på figur \ref{fig:4-1} (samt
naturligvis som forside på dette dokument). De tre grønne cirkler
repræsenterer DIKUs farver og logo på Københavns Universitet.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part4/screenshots/part4_1.png}
\caption{Projektforside}
\label{fig:4-1}
\end{figure}

\section{Del 5}
\label{sec:del-5}

I denne delopgave skulle vi tegne en cirkel. Til dette har vi brugt
\texttt{GL\_LINE\_LOOP} til at tegne 360 cirkelstykker, hvor
x- og y-koordinaterne er beregnet vha. hhv. $cos$ og $sin$. Til at
tegne en solid cirkel har vi lavet 360 trekanter, hvor de to hjørner
er de samme som start- og slut-punkterne for linjestykkerne fra før og
det sidste hjørne på trekanten er cirklens centrum. Linjecirklen kan
ses på figur \ref{fig:5-1} mens den udfyldte (og flerfarvede) cirkel
kan ses på figur \ref{fig:5-2}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part5/screenshots/part5_1.png}
\caption{Linjecirkel}
\label{fig:5-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part5/screenshots/part5_2.png}
\caption{Udfyldt (flerfarvet) cirkel}
\label{fig:5-2}
\end{figure}

\section{Del 6}
\label{sec:del-6}

Vi har et \emph{window}/\emph{viewport}-par, der er defineret ved
koordinatparrene
%
\[
[(x_{wmin}, y_{wmin}),~ (x_{wmax}, y_{wmax})]
\]
%
samt
%
\[
[(x_{vmin}, y_{vmin}),~ (x_{vmax}, y_{vmax})]
\]
%
En transformation fra $(x_w, y_w)$ til $(x_v, y_v)$ kan defineres ved
de tre operationer:

\begin{itemize}
\item Translatering (til $(0,0)$)
\item Skalering
\item Translatering (tilbage)
\end{itemize}

Dermed er hele operationen, $M$, givet ved:
%
\begin{align*}
M = & T \left( x_{vmin},~y_{vmin} \right) \cdot \\
    & S \left(
        \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}},~
        \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}}
       \right)\cdot \\
    & T \left( x_{wmin},~y_{wmin} \right)
\end{align*}
%
Den sidste tranlatering er angivet først, da man regner baglæns.

Matricerne for ovenstående, og det samlede resultat, $M$, vil dermed
være:

\begin{align*}
  M = & \begin{bmatrix}
          1 & 0 & x_{vmin} \\ 0 & 1 & y_{vmin} \\ 0 & 0 & 1
        \end{bmatrix} \cdot \\
      & \begin{bmatrix}
          \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} & 0 & 0 \\
          0 & \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} & 0 \\
          0 & 0 & 1 
        \end{bmatrix} \cdot \\
      & \begin{bmatrix}
          1 & 0 & -x_{wmin} \\
          0 & 1 & -y_{wmin} \\
          0 & 0 & 1
        \end{bmatrix} \\
    = & \begin{bmatrix}
          \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} & 0 &
          -x_{wmin} \cdot \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} -
            x_{wmin}} + x_{vmin} \\
          0 & \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} &
          y_{wmin} \cdot \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} -
            y_{wmin}} + y_{vmin} \\
          0 & 0 & 1
        \end{bmatrix}
\end{align*}

Multipliceres $M$ med et punkt $p$ med koordinaterne $(x,~y,~1)$ fås
resultatet $p'$:

\begin{align*}
  p' = M \cdot p =
  \begin{bmatrix}
    \left(x - x_{wmin}\right) \cdot
    \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} + x_{vmin} &
    \left( y - y_{wmin} \right) \cdot
    \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} + y_{vmin} &
    1
  \end{bmatrix}
\end{align*}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "report_main"
%%% End: 