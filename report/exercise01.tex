\chapter{Ugeopgave 1}
\label{sec:ugeopgave-1}

Formålet med denne opgave var at blive introduceret til at lave,
redigere, linke og køre C- og C++-programmer, der er bruger OpenGL,
GLU og GLUT.

\section{Del 1}
\label{sec:del-1}

Programmet, når det køres, viser vinduet i figur \ref{fig:1-1-1}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part1/screenshots/part1_1.png}
\caption{Første kørsel}
\label{fig:1-1-1}
\end{figure}

Når der tilføjes de udkommenterede linjer, bliver koordinatsystemet
sat, så man kan se den gule polygon i sin fulde udstrækning på
skærmen. Det kan ses på figur \ref{fig:1-1-2}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part1/screenshots/part1_2.png}
\caption{Tilføjelse af udkommenterede linjer}
\label{fig:1-1-2}
\end{figure}

\section{Del 2}
\label{sec:del-2}

Programmet, når det køres, viser vinduet i figur \ref{fig:1-2-1}.
%
Dernæst blev der tilføjet en rød trekant, med knuderne $(2,2)$,
$(5,2)$ og $3.5,5)$. Dette kan ses på figur \ref{fig:1-2-2}.
%
Trekanten er herefter translateret med vektoren $(6,7)$. Det ses på
figur \ref{fig:1-2-3}.
%
Efterfølgende er de enkelte hjørner i trekanten blevet farve
henholdsvis rød, grøn og blå. Det ses på figur \ref{fig:1-2-4}.
%
Rektanglet er herefter blevet roteret 45 grader mod uret om sin egen
midte. Dette er gjort ved at translatere rektanglet, så dets midte var
i $(0,0)$ og derefter rotere om en akse. Resultatet ses på figur \ref{fig:1-2-5}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_1.png}
\caption{Første kørsel}
\label{fig:1-2-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_2.png}
\caption{Tilføjelse af en trekant}
\label{fig:1-2-2}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_3.png}
\caption{Translatering af trekant}
\label{fig:1-2-3}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_4.png}
\caption{Omfarvning af trekant}
\label{fig:1-2-4}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part2/screenshots/part2_5.png}
\caption{Rotering af rektangel}
\label{fig:1-2-5}
\end{figure}

\section{Del 3}
\label{sec:del-3}

Kørslen af dette program resulterede i figur \ref{fig:1-3-1}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part3/screenshots/part3_1.png}
\caption{3D wireframe tepotte}
\label{fig:1-3-1}
\end{figure}

\section{Del 4}
\label{sec:del-4}

Vores genererede forside kan ses på figur \ref{fig:1-4-1} (samt
naturligvis som forside på dette dokument). De tre grønne cirkler
repræsenterer DIKUs farver og logo på Københavns Universitet.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part4/screenshots/part4_1.png}
\caption{Projektforside}
\label{fig:1-4-1}
\end{figure}

\section{Del 5}
\label{sec:del-5}

I denne delopgave skulle vi tegne en cirkel. Til dette har vi brugt
\texttt{GL\_LINE\_LOOP} til at tegne 360 cirkelstykker, hvor
x- og y-koordinaterne er beregnet vha. hhv. $cos$ og $sin$. Til at
tegne en solid cirkel har vi lavet 360 trekanter, hvor de to hjørner
er de samme som start- og slut-punkterne for linjestykkerne fra før og
det sidste hjørne på trekanten er cirklens centrum. Linjecirklen kan
ses på figur \ref{fig:1-5-1} mens den udfyldte (og flerfarvede) cirkel
kan ses på figur \ref{fig:1-5-2}.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part5/screenshots/part5_1.png}
\caption{Linjecirkel}
\label{fig:1-5-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part5/screenshots/part5_2.png}
\caption{Udfyldt (flerfarvet) cirkel}
\label{fig:1-5-2}
\end{figure}

\section{Del 6}
\label{sec:del-6}

Vi har et \emph{window}/\emph{viewport}-par, der er defineret ved
koordinatparrene
%
\[
[(x_{wmin}, y_{wmin}),~ (x_{wmax}, y_{wmax})]
\]
%
samt
%
\[
[(x_{vmin}, y_{vmin}),~ (x_{vmax}, y_{vmax})]
\]
%
En transformation fra $(x_w, y_w)$ til $(x_v, y_v)$ kan defineres ved
de tre operationer:

\begin{itemize}
\item Translatering (til $(0,0)$)
\item Skalering
\item Translatering (tilbage)
\end{itemize}

Dermed er hele operationen, $M$, givet ved:
%
\begin{align*}
M = & T \left( x_{vmin},~y_{vmin} \right) \cdot \\
    & S \left(
        \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}},~
        \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}}
       \right)\cdot \\
    & T \left( x_{wmin},~y_{wmin} \right)
\end{align*}
%
Den sidste tranlatering er angivet først, da man regner baglæns.

Matricerne for ovenstående, og det samlede resultat, $M$, vil dermed
være:

\begin{align*}
  M = & \begin{bmatrix}
          1 & 0 & x_{vmin} \\ 0 & 1 & y_{vmin} \\ 0 & 0 & 1
        \end{bmatrix} \cdot \\
      & \begin{bmatrix}
          \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} & 0 & 0 \\
          0 & \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} & 0 \\
          0 & 0 & 1 
        \end{bmatrix} \cdot \\
      & \begin{bmatrix}
          1 & 0 & -x_{wmin} \\
          0 & 1 & -y_{wmin} \\
          0 & 0 & 1
        \end{bmatrix} \\
    = & \begin{bmatrix}
          \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} & 0 &
          -x_{wmin} \cdot \dfrac{x_{vmax} - x_{vmin}}{x_{wmax} -
            x_{wmin}} + x_{vmin} \\
          0 & \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} &
          y_{wmin} \cdot \dfrac{y_{vmax} - y_{vmin}}{y_{wmax} -
            y_{wmin}} + y_{vmin} \\
          0 & 0 & 1
        \end{bmatrix}
\end{align*}

Multipliceres $M$ med et punkt $p$ med koordinaterne $(x,~y,~1)$ fås
resultatet $p'$:

\begin{align*}
  p' = & M \cdot p \\
     = &
  \begin{bmatrix}
    \left(x - x_{wmin}\right) \cdot
    \frac{x_{vmax} - x_{vmin}}{x_{wmax} - x_{wmin}} + x_{vmin} &
    \left( y - y_{wmin} \right) \cdot
    \frac{y_{vmax} - y_{vmin}}{y_{wmax} - y_{wmin}} + y_{vmin} &
    1
  \end{bmatrix}
\end{align*}

\section{Del 7}
\label{sec:del-7}

Kørsel af programmet inden de ønskede operationer er udført kan ses på
figur \ref{fig:1-7-1}. Det kan her ses, at yw-aksen som yo-aksen også
vender opad.

Vi har udført de tre operationer i omvendt rækkefølge i OpenGL. Det
vil sige først \texttt{glTranslate}, dernæst \texttt{glRotate} og til
sidst \texttt{glScale}. Med en skalering til dobbelt størrelse, har vi
forstået dobbelt sidestørrelse. Resultatet af dette, kan ses på figur
\ref{fig:1-7-2}. Det kan her ses, at midten af terningen er i samme
højde som det øverste punkt i linjen fra $(1,0,0)$ til $(1,3,0)$.

Hvis operationerne blev udført i den ``naturlige'' rækkefølge, var
resultatet som ses på figur \ref{fig:1-7-3}, hvor man kan se at
translateringen også er blevet skaleret med en faktor to.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part7/screenshots/part7_1.png}
\caption{Uden transformationer}
\label{fig:1-7-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part7/screenshots/part7_2.png}
\caption{Enhedsterning: TRS}
\label{fig:1-7-2}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part7/screenshots/part7_3.png}
\caption{Enhedsterning: SRT}
\label{fig:1-7-3}
\end{figure}

\section{Del 8}
\label{sec:del-8}

Idet, der i denne opgave skal laves et front-perspektiv
(etpunktsperspektiv), viewplanet går igennem $(0,0,0)$ og kameraet er
placeret i $(20,5,5)$ kan \emph{at}-punktet fx være at finde i
$(20,5,-20)$, da et etpunksperspektiv har en synsretning, der er ikke er
vinkelret på netop én akse.

For at få en ordentligt billede af kassen, har vi valgt også at lave
den med sidestørrelse $5$ i stedet for $10$. Endvidere har vi lavet
kassen solid, med optegnede kanter, så perspektiv og aksernes
placering er nemmere at vurdere. Frontperspektivet af kassen med
sidestørrelse $10$ kan ses på figur \ref{fig:1-8-1}, mens kassen med
sidestørrelse $5$ kan ses på figur \ref{fig:1-8-2}.

Den lille hvide prik på begge billeder angiver forsvindingspunktet på
horisonten for det brugte \emph{at}-punkt.

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part8/screenshots/part8_1.png}
\caption{Frontperspektiv (sidestørrelse: 10)}
\label{fig:1-8-1}
\end{figure}

\begin{figure}[hp]
\centering
\includegraphics[width=8cm]{../exercise1/part8/screenshots/part8_2.png}
\caption{Frontperspektiv (sidestørrelse: 5)}
\label{fig:1-8-2}
\end{figure}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "report_main"
%%% End: 